<!DOCTYPE html>
<html lang="zh_CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Min 一套完整的小程序组件化解决方案" />
    <meta name="keywords" content=",蘑菇街前端团队,Min,蘑菇街Min,蘑菇街前端,min,组件化,小程序,小程序组件化,小程序组件化解决方案" />
    <link rel="shortcut icon" href="/min/static/images/favicon.ico"/>
    <title>Min :  Min组件库示例</title>
    <meta name="description" content="FIS3 面向前端的工程构建系统">
    <meta name="author" content="fis-team">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/min/static/css/common_22693f5.css">
    <!-- Custom styles -->
    <link href="/min/static/css/page_31c6c6d.css" rel="stylesheet" type="text/css" media="all">
    <link href="/min/static/css/github_5dbe7fc.css" rel="stylesheet" type="text/css" media="all">
    <link href="/min/static/css/perfect-scrollbar.min_0321076.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="/min/static/js/html5shiv_3855464.js"></script>
    <script src="/min/static/js/respond.min_579a7a6.js"></script>
    <![endif]-->

    <script src="/min/static/js/jquery.min_7dc7ccf.js"></script>
    <script type="text/javascript" src="/min/static/js/jquery.cookie_a5283b2.js"></script>
    <script src="/min/static/js/scrollspy_f211cc4.js"></script>
</head>

<body>

<div class="header-wrap">
    <header>
        <div class="logo-wrap">
            <a href="/min/index.html" class="logo">
                <img src="/min/static/images/logo.png" class="logo-img"/>
                <div class="logo-text">
                    <span class="logo-text--title">Min</span>
                    <span class="logo-text--desc">让小程序的开发变得愉悦</span>
                </div>
            </a>
            <a class="fa toggle"></a>
        </div>
        <nav>
            <div class="nav-left">
                <a href="/min/index.html" class="nav-link  is-active">首页</a>
                <a href="/min/docs/install/index.html" class="nav-link  is-active">使用手册</a>
                <a href="/min/docs/minui/index.html" class="nav-link">MinUI 组件库</a>
            </div>

            <div class="nav-right">
                <a href="https://github.com/meili/min-cli"><i class="icon icon-wechat"></i></a>
                <a href="https://github.com/meili/min-cli"><i class="icon icon-github"></i></a>
                <div class="code-wechat"><img src="https://s10.mogucdn.com/mlcdn/c45406/171214_461864fllj12114eg6eg2ef68ge6e_752x974.jpg" /></div>
            </div>
        </nav>
    </header>
</div>
<script type="text/javascript" src="/min/static/js/jquery.min.js"></script>
<script language="javascript">
    $(document).ready(function(){

        $('.icon-wechat').mouseover( function() {
            $('.code-wechat').show()
        });
        $('.icon-wechat').mouseout( function() {
            $('.code-wechat').hide()
        })

    });

</script>

<div id="main" class="fix-sidebar">
    <div class="sidebar">
    <!-- - 介绍
  - [Min 是什么](./introduction/index.md)
  - [为什么选择 Min](./introduction/why-min.md)
  - [Min 有哪些特性](./introduction/character.md)
  - [MinUI 是什么](./introduction/minui.md) -->
<ul>
<li><a href="/min/docs/install/index.html">安装</a></li>
<li><a href="/min/docs/quick-start/index.html">快速入门</a><ul>
<li><a href="/min/docs/quick-start/min-weapp-example.html">小程序示例</a></li>
<li><a href="/min/docs/quick-start/min-ui-example.html">组件库示例</a></li>
</ul>
</li>
<li>使用文档<ul>
<li><a href="/min/docs/min-cli/app-project/index.html">Min小程序项目</a><ul>
<li><a href="/min/docs/min-cli/app-project/init/index.html">初始化项目</a></li>
<li><a href="/min/docs/min-cli/app-project/new/index.html">新建页面</a></li>
<li><a href="/min/docs/min-cli/app-project/dev/index.html">调试页面</a></li>
<li><a href="/min/docs/min-cli/app-project/build/index.html">编译项目</a></li>
</ul>
</li>
<li><a href="/min/docs/min-cli/wxc-project/index.html">Min组件库项目</a><ul>
<li><a href="/min/docs/min-cli/wxc-project/init/index.html">初始化项目</a></li>
<li><a href="/min/docs/min-cli/wxc-project/new/index.html">新建组件</a></li>
<li><a href="/min/docs/min-cli/wxc-project/dev/index.html">调试组件</a></li>
<li><a href="/min/docs/min-cli/wxc-project/publish/index.html">发布组件</a></li>
</ul>
</li>
<li><a href="/min/docs/min-cli/third-project/index.html">已有小程序项目</a><ul>
<li><a href="/min/docs/min-cli/third-project/install/index.html">安装组件</a></li>
<li><a href="/min/docs/min-cli/third-project/update/index.html">更新组件</a></li>
<li><a href="/min/docs/min-cli/third-project/using/index.html">使用组件</a></li>
<li><a href="/min/docs/min-cli/third-project/tutorial/with-wepy.html">结合WePY</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="/min/docs/features/index.html">功能特性</a><ul>
<li><a href="/min/docs/features/single-file-mode.html">单文件模式</a></li>
<li><a href="/min/docs/features/npm.html">支持加载外部 NPM 包</a></li>
<li><a href="/min/docs/features/babel.html">支持 ES6/7 新特性</a></li>
<li><a href="/min/docs/features/style.html">支持多种样式预编译</a></li>
<li><a href="/min/docs/features/demo-api.html">自动集成示例文档</a></li>
</ul>
</li>
<li><a href="/min/docs/advance/index.html">进阶介绍</a><ul>
<li><a href="/min/docs/advance/config.html">min.config.json 配置</a></li>
<li><a href="/min/docs/advance/single-file-explain.html">单文件说明</a></li>
<li><a href="/min/docs/advance/global-layout.html">全局公共模板</a></li>
<li><a href="/min/docs/advance/global-setting.html">全局可配置化</a></li>
</ul>
</li>
<li><a href="/min/docs/prepare/index.html">预备知识</a><ul>
<li><a href="/min/docs/prepare/wx-api.html">微信小程序文档</a></li>
<li><a href="/min/docs/prepare/wx-tool.html">微信开发者工具</a></li>
<li><a href="/min/docs/prepare/high-light.html">代码高亮</a></li>
</ul>
</li>
<li><a href="/min/docs/faq/index.html">注意事项</a><ul>
<li><a href="/min/docs/faq/point.html">重要提醒</a></li>
<li><a href="/min/docs/faq/issues.html">常见问题</a></li>
<li><a href="/min/docs/faq/feedback.html">问题反馈</a></li>
</ul>
</li>
<li><a href="/min/docs/changelog/index.html">版本日志</a><ul>
<li><a href="/min/docs/changelog/index.html#v1.0.5%EF%BC%882017.12.11%EF%BC%89">v1.0.5（2017.12.11）</a></li>
<li><a href="/min/docs/changelog/index.html#v1.0.4%EF%BC%882017.11.29%EF%BC%89">v1.0.4（2017.11.29）</a></li>
<li><a href="/min/docs/changelog/index.html#v1.0.3%EF%BC%882017.11.16%EF%BC%89">v1.0.3（2017.11.16）</a></li>
<li><a href="/min/docs/changelog/index.html#v1.0.2%EF%BC%882017.11.10%EF%BC%89">v1.0.2（2017.11.10）</a></li>
<li><a href="/min/docs/changelog/index.html#v1.0.1%EF%BC%882017.11.02%EF%BC%89">v1.0.1（2017.11.02）</a></li>
</ul>
</li>
</ul>

    <div class="bottom-shadow"></div>
</div>

    <div class="content api with-sidebar">
        <a name="Min%E7%BB%84%E4%BB%B6%E5%BA%93%E7%A4%BA%E4%BE%8B" class="title-anchor"></a><h3 class="" id="Min组件库示例">Min组件库示例</h3><ul>
<li><p>示例项目是放在 <strong> min-cli </strong> 工程下的，首先需要通过 git 将仓库 clone 下来</p>
<pre><code class="hljs lang-bash">$ git <span class="hljs-keyword">clone</span> <span class="hljs-title">https</span>://github.com/meili/min-cli
</code></pre>
</li>
<li><p>进入组件库示例项目，在工程的 <strong> example/min-ui </strong> 目录下</p>
<pre><code class="hljs lang-bash">$ <span class="hljs-built_in">cd</span> ~/<span class="hljs-built_in">min</span>-cli/example/<span class="hljs-built_in">min</span>-ui
</code></pre>
</li>
<li><p>安装项目依赖</p>
<pre><code class="hljs lang-bash">$ npm <span class="hljs-keyword">install</span>
</code></pre>
</li>
<li><p>开启本地调试: (未安装 min 命令行工具？点击这里查看<a href="/min/docs/install/index.html">安装教程</a>)</p>
<pre><code class="hljs lang-bash">$ <span class="hljs-built_in">min</span> <span class="hljs-built_in">dev</span>
</code></pre>
</li>
<li><p>打开微信开发者工具，选择 <strong>dist</strong> 文件夹，浏览项目。</p>
<p>示例里默认有个 toast 组件，通过微信开发者工具预览可以看到这个样子：<br/>
<img src="https://s10.mogucdn.com/mlcdn/c45406/171212_2agie3ee3g6k382id37lj8ibfkgb6_324x414.jpg" alt="组件库首页"></p>
<p>用户可以点击首页的导航进入到 toast 组件的示例页面，可以看到组件的示例代码展示、API文档 和 Changelog 版本日志：<br/>
<img src="https://s10.mogucdn.com/mlcdn/c45406/171212_5d0jb2k97agd7ch41b2fi4fh852eh_324x572.jpg" alt="toast组件示例页面"></p>
</li>
<li><p>接下来进一步了解 组件package、Demo示例、API文档 这三者是怎么通过示例页面呈现出来的。</p>
<p>首先我们看下目录结构</p>
<pre><code class="hljs lang-bash">
  min-ui
  ├── dist                              微信开发者工具指定的目录
  ├── node_modules
  ├── packages                          代码编写的目录（该目录为使用 Min 后的开发目录，用于管理各个 组件package 的主目录）
  |<span class="hljs-string">   ├── wxc-toast                       组件的 package 目录
  </span>|<span class="hljs-string">   </span>|<span class="hljs-string">   ├── src
  </span>|<span class="hljs-string">   </span>|<span class="hljs-string">   </span>|<span class="hljs-string">   └── index.wxc                   组件的源码编写文件（组件入口文件必须为index.wxc）
  </span>|<span class="hljs-string">   </span>|<span class="hljs-string">   ├── package.json                  组件的 package 配置
  </span>|<span class="hljs-string">   </span>|<span class="hljs-string">   └── README.md                     组件的 README 文档
  └── src                               代码编写的目录（该目录为使用 Min 后的开发目录）
      ├── pages
      </span>|<span class="hljs-string">   ├── home
      </span>|<span class="hljs-string">   </span>|<span class="hljs-string">   ├── index.wxp                   home 页面
      </span>|<span class="hljs-string">   ├── toast                         toast组件示例
      </span>|<span class="hljs-string">   </span>|<span class="hljs-string">   ├── demos                       示例目录列表
      </span>|<span class="hljs-string">   </span>|<span class="hljs-string">   </span>|<span class="hljs-string">   └── demo-default.wxc          示例代码
      </span>|<span class="hljs-string">   </span>|<span class="hljs-string">   └── index.wxp                   示例入口页面
      └──app.wxa                        小程序配置项</span>
</code></pre>
<p>小程序的页面放在pages目录下，而每一个组件应该是一个完整独立的NPM包而不是一个完整页面。所以 Min 设计了这样的目录结构，将组件package 和展示组件的示例页面是放在不同目录下。即 组件package 放在 packages 目录下，示例页面放在 src/pages 目录下。有序组织页面和组件的引用关系，将 <strong> 示例入口页面 </strong> 引用多个 <strong> 示例代码 </strong> 和一个 <strong> 组件文档 </strong> ，再由每个 <strong> 示例代码 </strong> 引用 <strong> 组件源码 </strong>，用户通过 <code>min dev</code> 指令执行转换成原生小程序的目录结构</p>
</li>
</ul>
<blockquote>
<p>注：<strong> dist目录 </strong> 是微信开发者工具指定的目录，该目录由 Min 的 dev 指令自动编译生成，请不要直接修改该目录下的文件</p>
</blockquote>
<ul>
<li><p>请尝试修改组件代码</p>
<p>打开组件 <code>~/min-ui/packages/wxc-toast/src/index.wxc</code> 文件</p>
<pre><code class="hljs lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">view</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"wxc-toast"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">view</span>&gt;</span>WxcToast Component<span class="hljs-tag">&lt;/<span class="hljs-title">view</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- 修改此处 - start --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">view</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"text"</span>&gt;</span>这是一行新增的代码<span class="hljs-tag">&lt;/<span class="hljs-title">view</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- 修改此处 - end --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  config: {
    usingComponents: { }
  },
  behaviors: [ ],
  properties: { },
  data: { },
  methods: { }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">style</span>&gt;</span><span class="css">
<span class="hljs-class">.wxc-toast</span> <span class="hljs-rules">{
}</span>
<span class="hljs-comment">/* 修改此处 - start */</span>
<span class="hljs-class">.text</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> red</span></span>;
}</span>
<span class="hljs-comment">/* 修改此处 - end */</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
</code></pre>
<p>修改保存后，切换到 微信开发者工具 再进入到 taost组件的示例页面 <br/>
<img src="https://s10.mogucdn.com/mlcdn/c45406/171212_7kl8a7cgel56kbd85jj92ih812j05_326x578.jpg" alt="toast组件示例页面"></p>
</li>
<li><p>请尝试为组件新增一个Demo示例</p>
<ul>
<li>进入 <code>~/min-ui/pages/toast/demos</code> 示例目录</li>
<li>创建一个示例文件 <strong> demo-custom.wxc </strong>（示例文件名以demo-开始） 或复制已有的文件（为了方便，这里直接采用复制的方式）</li>
</ul>
<pre><code class="hljs lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">wxc-toast</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">wxc-toast</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  config: {
    usingComponents: {
      <span class="hljs-string">'wxc-toast'</span>: <span class="hljs-string">'wxc-toast'</span>
    }
  },
  data: { },
  methods: { }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">style</span>&gt;</span><span class="css">
</span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
</code></pre>
<ul>
<li>打开示例页面 <code>~/min-ui/pages/toast/index.wxp</code> 文件，把刚新增的示例加进来</li>
</ul>
<pre><code class="hljs lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">example</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"wxc-toast"</span> <span class="hljs-attribute">desc</span>=<span class="hljs-value">"提示"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">example-demo</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"请填写示例名称"</span> <span class="hljs-attribute">desc</span>=<span class="hljs-value">"请填写示例描述"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">demo-default</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">demo-default</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">example-demo</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- 修改此处 - start --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">example-demo</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"请填写示例名称"</span> <span class="hljs-attribute">desc</span>=<span class="hljs-value">"请填写示例名称"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">demo-custom</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">demo-custom</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">example-demo</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- 修改此处 - end --&gt;</span>

  <span class="hljs-tag">&lt;/<span class="hljs-title">example</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  config: {
    usingComponents: {
      <span class="hljs-string">'example'</span>: <span class="hljs-string">'@minui/wxc-example'</span>,
      <span class="hljs-string">'example-demo'</span>: <span class="hljs-string">'@minui/wxc-example-demo'</span>,
      <span class="hljs-string">'example-md'</span>: <span class="hljs-string">'@minui/wxc-example-md'</span>,
      <span class="hljs-string">'demo-default'</span>: <span class="hljs-string">'./demos/demo-default'</span>,
      <span class="hljs-comment">// 修改此处 - start</span>
      <span class="hljs-string">'demo-custom'</span>: <span class="hljs-string">'./demos/demo-custom'</span> <span class="hljs-comment">// 注册一个新的组件（每个示例代码都是一个组件来输出）</span>
      <span class="hljs-comment">// 修改此处 - end</span>
    }
  },
  data: { }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">style</span>&gt;</span><span class="css">
</span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
</code></pre>
<ul>
<li>修改保存后，切换到 微信开发者工具，进入到 toast 组件示例页面，看到新增了一个示例 <br/>
<img src="https://s10.mogucdn.com/mlcdn/c45406/171212_2k1d01ia2gl5g46jj0f0cbbd77cbl_325x572.jpg" alt="toast组件示例页面"></li>
</ul>
</li>
<li><p>此时，您是否已经了解 Min设计的组件库开发方式呢? 有任何疑问或问题请提交 <a href="https://github.com/meili/min-cli/issues">issues</a> 或加入到微信群 <strong> Min 使用交流群 </strong> 讨论，请描述您的问题并提供具体的异常截图，以便min-team快速判断解决。</p>
<p>接下来请进一步了解在 <strong>Min组件库项目</strong> 里常用的功能</p>
<ul>
<li><a href="/min/docs/min-cli/wxc-project/new/index.html">新建组件</a></li>
<li><a href="/min/docs/min-cli/wxc-project/dev/index.html">调试组件</a></li>
<li><a href="/min/docs/min-cli/wxc-project/publish/index.html">发布组件</a></li>
</ul>
<p>如果您想要在已有的小程序里使用，请移步到 <a href="/min/docs/min-cli/third-project/index.html">已有小程序项目</a> 的使用介绍</p>
</li>
</ul>

    </div>
</div>

<!-- Latest compiled and minified JavaScript, requires jQuery 1.x (2.x not supported in IE8) -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="/min/static/js/perfect-scrollbar.min_5c71541.js"></script>
<script type="text/javascript">
    (function(){
        var scrollBarEnabled = false;

        function isIE( version, comparison ){
            var $div = $('<div style="display:none;"/>').appendTo($('body'));
            $div.html('<!--[if '+(comparison||'')+' IE '+(version||'')+']><a>&nbsp;</a><![endif]-->');
            var ieTest = $div.find('a').length;
            $div.remove();
            return ieTest;
        }

        function updateScrollBar(){
            function enableScrollBar(){
                if (scrollBarEnabled)
                    return;
                scrollBarEnabled = true;
                $(".sidebar").perfectScrollbar({
                    wheelSpeed: 10,
                    wheelPropagation: false
                });
            }

            function disableScrollBar(){
                if (!scrollBarEnabled)
                    return;
                scrollBarEnabled = false;
                $(".sidebar").perfectScrollbar('destroy');
            }

            if ($(window).width()>760 && $(".sidebar").height() < $(".sidebar ul").height()){
                enableScrollBar();
            }else{
                disableScrollBar();
            }
        }

        //设置链接当前样式
        function setActive(){
            var href= window.location.href;
            $(".sidebar li a").each(function(){
                var link = $(this).attr("href");
                if(String(href).indexOf(link) > -1){
                    $(this).addClass("active");
                }
            })
        }

        //生成左边导航用于在移动端查看使用
        function buildSideNav(){
            $("nav .nav-left").clone().attr("class","main-nav").prependTo($(".sidebar"));

            $(".header-wrap .toggle").addClass("fa-list").on("click",function(){
                $(".sidebar").toggleClass("open");
                return false;
            })

            $("html").on("click",function(e){
                console.log(e.target);
                $(".sidebar").removeClass("open");
            })

            $(".sidebar").bind("click",function(e){
                e && e.stopPropagation();
            })
        }

        //hash平滑滚动，a链接添加active
        $('.sidebar li a').click(function(){
            $('.sidebar li a').removeClass("active");
            $(this).addClass("active");
            $(".sidebar").removeClass("open");
        });

        setActive();
        buildSideNav();


        if (!isIE(8, 'lte')){
            $(".sidebar").addClass('scrollbar');
            updateScrollBar();
            $(window).resize(updateScrollBar);
        }



        //判断滚动方向，动态隐藏导航条
        var lastScrollTop = 0;
        $(window).scroll(function(event){
            if($(window).width()>720){
                var st = $(this).scrollTop();
                var range = st - lastScrollTop;
                if(range > 5){
                    $("body").addClass("hide-header");
                }else if(range < -5){
                    $("body").removeClass("hide-header");
                }
            }else{
                $("body").removeClass("hide-header");
            }
            lastScrollTop = st;
        });
    }());
</script>

</body>
</html>
