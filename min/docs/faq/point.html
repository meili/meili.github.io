<!DOCTYPE html>
<html lang="zh_CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Min 一套完整的小程序组件化解决方案" />
    <meta name="keywords" content=",蘑菇街前端团队,Min,蘑菇街Min,蘑菇街前端,min,组件化,小程序,小程序组件化,小程序组件化解决方案" />
    <link rel="shortcut icon" href="/min/static/images/favicon.ico"/>
    <title>Min -  重要提醒</title>
    <meta name="description" content="Min 一套完整的小程序组件化解决方案">
    <meta name="author" content="min-team">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/min/static/css/common_86e5888.css">
    <!-- Custom styles -->
    <link href="/min/static/css/page_3f0538b.css" rel="stylesheet" type="text/css" media="all">
    <link href="/min/static/css/github_5dbe7fc.css" rel="stylesheet" type="text/css" media="all">
    <link href="/min/static/css/perfect-scrollbar.min_0321076.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="/min/static/js/html5shiv_3855464.js"></script>
    <script src="/min/static/js/respond.min_579a7a6.js"></script>
    <![endif]-->

    <script src="/min/static/js/jquery.min_7dc7ccf.js"></script>
    <script type="text/javascript" src="/min/static/js/jquery.cookie_a5283b2.js"></script>
    <script src="/min/static/js/scrollspy_f211cc4.js"></script>
</head>

<body>

<div class="header-wrap">
    <header>
        <div class="logo-wrap">
            <a href="/min/index.html" class="logo">
                <img src="/min/static/images/logo.png" class="logo-img"/>
                <div class="logo-text">
                    <span class="logo-text--title">Min</span>
                    <span class="logo-text--desc">让小程序的开发变得愉悦</span>
                </div>
            </a>
            <a class="icon toggle"></a>
        </div>
        <nav>
            <div class="nav-left">
                <a href="/min/index.html" class="nav-link  is-active">首页</a>
                <a href="/min/docs/install/index.html" class="nav-link  is-active">使用手册</a>
                <a href="/min/docs/minui/index.html" class="nav-link">MinUI 组件库</a>
            </div>

            <div class="nav-right">
                <span><i class="icon icon-wechat"></i></span>
                <a href="https://github.com/meili/min-cli"><i class="icon icon-github"></i></a>
                <div class="code-wechat"><img src="https://s10.mogucdn.com/mlcdn/c45406/171220_7ii8h4i0j25ge1l3h3jee6jdl782f_752x974.jpg" /></div>
            </div>
        </nav>
    </header>
</div>
<script type="text/javascript" src="/min/static/js/jquery.min_7dc7ccf.js"></script>
<script language="javascript">
    $(document).ready(function(){

        $('.icon-wechat').mouseover( function() {
            $('.code-wechat').show()
        });
        $('.icon-wechat').mouseout( function() {
            $('.code-wechat').hide()
        })

    });

</script>

<div id="main" class="fix-sidebar">
    <div class="sidebar">
    <!-- - 介绍
  - [Min 是什么](./introduction/index.md)
  - [为什么选择 Min](./introduction/why-min.md)
  - [Min 有哪些特性](./introduction/character.md)
  - [MinUI 是什么](./introduction/minui.md) -->
<ul>
<li><a href="/min/docs/install/index.html">安装</a></li>
<li><a href="/min/docs/quick-start/index.html">快速入门</a><ul>
<li><a href="/min/docs/quick-start/min-weapp-example.html">小程序示例</a></li>
<li><a href="/min/docs/quick-start/min-ui-example.html">组件库示例</a></li>
</ul>
</li>
<li>使用文档<ul>
<li><a href="/min/docs/min-cli/app-project/index.html">Min小程序项目</a><ul>
<li><a href="/min/docs/min-cli/app-project/init/index.html">初始化项目</a></li>
<li><a href="/min/docs/min-cli/app-project/new/index.html">新建页面</a></li>
<li><a href="/min/docs/min-cli/app-project/dev/index.html">调试页面</a></li>
<li><a href="/min/docs/min-cli/app-project/build/index.html">编译项目</a></li>
</ul>
</li>
<li><a href="/min/docs/min-cli/wxc-project/index.html">Min组件库项目</a><ul>
<li><a href="/min/docs/min-cli/wxc-project/init/index.html">初始化项目</a></li>
<li><a href="/min/docs/min-cli/wxc-project/new/index.html">新建组件</a></li>
<li><a href="/min/docs/min-cli/wxc-project/dev/index.html">调试组件</a></li>
<li><a href="/min/docs/min-cli/wxc-project/publish/index.html">发布组件</a></li>
</ul>
</li>
<li><a href="/min/docs/min-cli/third-project/index.html">已有小程序项目</a><ul>
<li><a href="/min/docs/min-cli/third-project/install/index.html">安装组件</a></li>
<li><a href="/min/docs/min-cli/third-project/update/index.html">更新组件</a></li>
<li><a href="/min/docs/min-cli/third-project/using/index.html">使用组件</a></li>
<li><a href="/min/docs/min-cli/third-project/tutorial/with-wepy.html">结合WePY</a></li>
</ul>
</li>
</ul>
</li>
<li>功能特性<ul>
<li><a href="/min/docs/features/single-file-mode.html">单文件模式</a></li>
<li><a href="/min/docs/features/npm.html">支持加载外部 NPM 包</a></li>
<li><a href="/min/docs/features/babel.html">支持 ES6/7 新特性</a></li>
<li><a href="/min/docs/features/style.html">支持多种样式预编译</a></li>
<li><a href="/min/docs/features/demo-api.html">自动集成示例文档</a></li>
</ul>
</li>
<li>进阶介绍<ul>
<li><a href="/min/docs/advance/config.html">min.config.json 配置</a></li>
<li><a href="/min/docs/advance/single-file-explain.html">单文件说明</a></li>
<li><a href="/min/docs/advance/global-layout.html">全局公共模板</a></li>
<li><a href="/min/docs/advance/global-setting.html">全局可配置化</a></li>
</ul>
</li>
<li><a href="/min/docs/prepare/index.html">预备知识</a><ul>
<li><a href="/min/docs/prepare/wx-api.html">微信小程序文档</a></li>
<li><a href="/min/docs/prepare/wx-tool.html">微信开发者工具</a></li>
<li><a href="/min/docs/prepare/high-light.html">代码高亮</a></li>
</ul>
</li>
<li><a href="/min/docs/faq/index.html">注意事项</a><ul>
<li><a href="/min/docs/faq/point.html">重要提醒</a></li>
<li><a href="/min/docs/faq/issues.html">常见问题</a></li>
<li><a href="/min/docs/faq/feedback.html">问题反馈</a></li>
</ul>
</li>
<li><a href="/min/docs/changelog/index.html">版本日志</a><ul>
<li><a href="/min/docs/changelog/index.html#v1.0.5%EF%BC%882017.12.11%EF%BC%89">v1.0.5（2017.12.11）</a></li>
<li><a href="/min/docs/changelog/index.html#v1.0.4%EF%BC%882017.11.29%EF%BC%89">v1.0.4（2017.11.29）</a></li>
<li><a href="/min/docs/changelog/index.html#v1.0.3%EF%BC%882017.11.16%EF%BC%89">v1.0.3（2017.11.16）</a></li>
<li><a href="/min/docs/changelog/index.html#v1.0.2%EF%BC%882017.11.10%EF%BC%89">v1.0.2（2017.11.10）</a></li>
<li><a href="/min/docs/changelog/index.html#v1.0.1%EF%BC%882017.11.02%EF%BC%89">v1.0.1（2017.11.02）</a></li>
</ul>
</li>
</ul>

    <div class="bottom-shadow"></div>
</div>

    <div class="content api with-sidebar">
        <a name="%E9%87%8D%E8%A6%81%E6%8F%90%E9%86%92" class="title-anchor"></a><h3 class="" id="重要提醒">重要提醒</h3><p>在 Min 的使用过程中有一些要注意的点，本节将这些点总结如下：</p>
<p><strong>1、微信开发者工具</strong></p>
<p>min 环境中微信开发者工具的版本和基础库版本要求：</p>
<ul>
<li>微信开发者工具版本要求： v1.01.1711020 及以上</li>
<li>基础库版本要求： 1.6.3 及以上</li>
<li>微信版本要求：6.5.16及以上</li>
</ul>
<p><strong>2、es6 转 es5 </strong></p>
<p>Wepy 要求在开发者工具中关闭es6 =&gt; es5 功能，而 min 编译出来的文件默认为 es6 代码，这就导致在 wepy 项目中无法使用 min 组件。Min cli 在 1.0.4 版本后集成了babel 插件，可编译出 es5 代码，在 wepy 项目中使用。只需在 min.config.json 增加 babel 的配置，具体配置如下所示：</p>
<pre><code class="hljs lang-json">{
  "<span class="hljs-attribute">compilers</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">babel</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">sourceMaps</span>": <span class="hljs-value"><span class="hljs-string">"inline"</span></span>,
      "<span class="hljs-attribute">presets</span>": <span class="hljs-value">[
        <span class="hljs-string">"env"</span>
      ]</span>,
      "<span class="hljs-attribute">plugins</span>": <span class="hljs-value">[
        <span class="hljs-string">"syntax-export-extensions"</span>,
        <span class="hljs-string">"transform-class-properties"</span>,
        <span class="hljs-string">"transform-decorators-legacy"</span>,
        <span class="hljs-string">"transform-export-extensions"</span>
      ]
    </span>}
  </span>}
</span>}
</code></pre>
<p>关于 wepy 与 min 的结合使用请参考 <strong>使用场景</strong> 的 <a href="/docs/using/with-wepy.html">结合 wepy</a></p>
<p><strong>3、项目浏览目录</strong></p>
<p> Min 工具生成的项目，编译时会根据 min.config.json 文件中的 <strong>dest</strong> 字段创建编译文件的存放目录，创建项目时默认编译之后的文件是在根目录的 <strong>dist</strong>文件夹下，如果在创建项目时使用了自定义的文件夹，则编译后的文件夹是存放在该目录下的。<strong>在微信开发者工具中浏览项目时应选择编译后的文件存放目录</strong>。</p>
<p><strong>4、wepy 中调用 selectComponent 方法</strong></p>
<p>MinUI 组件库中诸如 toast, loading, dialog等组件，都有对外暴露组件方法，在页面中可通过调用 <code>this.selectComponent</code> 来获取组件的实例，从而调用组件方法。wepy 项目中的 Page 对象并非原生的，而是经过 wepy 封装过后的对象，并没有 <code>selectComponent</code> 方法，解决办法是通过调用 <code>this.$wxpage</code> 获取原生的 Page 对象，用该对象调用 <code>selectComponent</code> 方法来获取组件实例：</p>
<pre><code class="hljs lang-javascript">/* 以toast 组件为例*/
const <span class="hljs-variable">$toast</span> = this.<span class="hljs-variable">$wxpage</span>.selectComponent(<span class="hljs-string">'.J_toast'</span>) // .J_toast 为toast组件的类选择器
<span class="hljs-variable">$toast</span>.show()
</code></pre>
<p><strong>5、组件路径问题</strong></p>
<p>经常会有开发者搞不清组件的路径问题，在此针对不同的项目作一个组件路径分析。</p>
<ul>
<li>Min 工具生成的项目。</li>
</ul>
<p>使用 Min 生成的项目，不管是微信小程序项目还是微信组件库项目，在使用 minui 库的组件时，都可以将组件的路径设置为 <code>@minui/wxc-component</code>（<code>wxc-component</code> 表示一个组件名）。以 wxc-toast 组件为例，示例如下:</p>
<pre><code class="hljs lang-html"><span class="hljs-comment">&lt;!-- index.wxp 或者 index.wxc 文件中使用 wxc-toast组件--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">wxc-toast</span>
            <span class="hljs-attribute">class</span>=<span class="hljs-value">"J_toast"</span>
            <span class="hljs-attribute">text</span>=<span class="hljs-value">"Hello World"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">wxc-toast</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">bindtap</span>=<span class="hljs-value">"showToast"</span>&gt;</span>调用 show() 方法显示<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  config: {
    navigationBarTitleText: <span class="hljs-string">'demo页面'</span>,
    usingComponents: {
      <span class="hljs-string">'wxc-toast'</span>: <span class="hljs-string">'@minui/wxc-toast'</span>
    }
  },
  data: {},
  showToast() {
    <span class="hljs-keyword">let</span> $toast = <span class="hljs-keyword">this</span>.selectComponent(<span class="hljs-string">".J_toast"</span>)
    $toast &amp;&amp; $toast.show()
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>
<p>上述示例中，wxc-toast 组件的路径为 @minui/wxc-toast 。</p>
<ul>
<li>wepy 项目。</li>
</ul>
<p>Wepy 项目是需要编译打包的，打包之后的文件是在根目录的dist文件夹下，dist 文件夹是微信开发者工具指定的目录。安装 minui 的组件时，min 会将组件安装在开发者设置的安装路径下。</p>
<blockquote>
<p>wepy 项目中，minui 组件的安装路径应该设置在 dist 文件下，因为最终在微信开发者工具中打开的目录是 dist 文件夹，如果将组件的安装路径设置在 dist 目录外，并且在页面中使用了组件，则在微信开发者工具中会报错，因为没有该路径。</p>
</blockquote>
<p><strong>在页面中使用 minui 组件时，dist 目录下页面文件相对于组件文件的路径即为组件的路径。</strong></p>
<p>为方便理解，用一个示例说明一下。首先来看一个安装了 wxc-toast 组件并且经过 wepy 编译过后的工程目录结构：</p>
<pre><code class="hljs lang-tree">|<span class="hljs-string">—— dist                            编译后的文件目录，微信开发者工具中指定的目录
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— components
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— packages                    minui 组件的安装路径
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— @minui
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— wxc-icon
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— wxc-toast
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— dist
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— index.js
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— index.json
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— index.wxml
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— index.wxss
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— pages                        编译后的页面，index页面的路径是 pages/index/index
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— index
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— index.js
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— index.json
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— index.wxml
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— index.wxss
</span>|<span class="hljs-string">—— node_modules
</span>|<span class="hljs-string">—— src                                项目源码目录
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— components
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— pages
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">——index
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">    </span>|<span class="hljs-string">——index.wpy
</span>|<span class="hljs-string">    </span>|<span class="hljs-string">—— app.wpy
</span>|<span class="hljs-string">—— package.json
└── min.config.json</span>
</code></pre>
<p>在这个工程中，pages/index/index.wepy 页面中使用 wxc-toast 组件时的路径应该是：</p>
<pre><code class="hljs lang-javascript"><span class="xml">usingComponents: </span><span class="hljs-expression">{
  '<span class="hljs-variable">wxc-toast</span>': '<span class="hljs-variable">..</span><span class="hljs-end-block">/..</span><span class="hljs-end-block">/packages</span>/@<span class="hljs-variable">minui</span><span class="hljs-end-block">/wxc-toast</span><span class="hljs-end-block">/dist</span><span class="hljs-end-block">/index</span>'
}</span><span class="xml"></span>
</code></pre>
<p><strong>是 dist/pages/index/index.js 文件相对于 dist/packages/@minui/wxc-toast/dist/index.js 文件的相对路径。</strong></p>
<ul>
<li>已有的原生小程序项目。</li>
</ul>
<p><strong>已有的原生小程序项目使用 minui 组件，组件的路径就是页面文件相对于组件文件的相对路径。</strong></p>

    </div>
</div>

<!-- Latest compiled and minified JavaScript, requires jQuery 1.x (2.x not supported in IE8) -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="/min/static/js/perfect-scrollbar.min_5c71541.js"></script>
<script type="text/javascript">
    (function(){
        var scrollBarEnabled = false;

        function isIE( version, comparison ){
            var $div = $('<div style="display:none;"/>').appendTo($('body'));
            $div.html('<!--[if '+(comparison||'')+' IE '+(version||'')+']><a>&nbsp;</a><![endif]-->');
            var ieTest = $div.find('a').length;
            $div.remove();
            return ieTest;
        }

        function updateScrollBar(){
            function enableScrollBar(){
                if (scrollBarEnabled)
                    return;
                scrollBarEnabled = true;
                $(".sidebar").perfectScrollbar({
                    wheelSpeed: 10,
                    wheelPropagation: false
                });
            }

            function disableScrollBar(){
                if (!scrollBarEnabled)
                    return;
                scrollBarEnabled = false;
                $(".sidebar").perfectScrollbar('destroy');
            }

            if ($(window).width()>760 && $(".sidebar").height() < $(".sidebar ul").height()){
                enableScrollBar();
            }else{
                disableScrollBar();
            }
        }

        //设置链接当前样式
        function setActive(){
            var href= window.location.href;
            $(".sidebar li a").each(function(){
                var link = $(this).attr("href");
                if(String(href).indexOf(link) > -1){
                    $(this).addClass("active");
                }
            })
        }

        //生成左边导航用于在移动端查看使用
        function buildSideNav(){
            $("nav .nav-left").clone().attr("class","main-nav").prependTo($(".sidebar"));

            $(".header-wrap .toggle").addClass("icon-list").on("click",function(){
                $(".sidebar").toggleClass("open");
                return false;
            })

            $("html").on("click",function(e){
                console.log(e.target);
                $(".sidebar").removeClass("open");
            })

            $(".sidebar").bind("click",function(e){
                e && e.stopPropagation();
            })
        }

        //hash平滑滚动，a链接添加active
        $('.sidebar li a').click(function(){
            $('.sidebar li a').removeClass("active");
            $(this).addClass("active");
            $(".sidebar").removeClass("open");
        });

        setActive();
        buildSideNav();


        if (!isIE(8, 'lte')){
            $(".sidebar").addClass('scrollbar');
            updateScrollBar();
            $(window).resize(updateScrollBar);
        }



        //判断滚动方向，动态隐藏导航条
        var lastScrollTop = 0;
        $(window).scroll(function(event){
            if($(window).width()>720){
                var st = $(this).scrollTop();
                var range = st - lastScrollTop;
                if(range > 5){
                    $("body").addClass("hide-header");
                }else if(range < -5){
                    $("body").removeClass("hide-header");
                }
            }else{
                $("body").removeClass("hide-header");
            }
            lastScrollTop = st;
        });
    }());
</script>

</body>
</html>
